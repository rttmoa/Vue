<!-- eslint-disable prettier/prettier -->
<template>
  <div class="card content-box">
    <span class="text"> æŒ‰é’®æƒé™ ğŸ“ğŸ‡ğŸˆğŸ‰</span>
    <el-alert
      class="mb20"
      :title="`å½“å‰ç”¨æˆ·æŒ‰é’®æƒé™ï¼š${JSON.stringify(Object.keys(BUTTONS))}`"
      type="success"
      :closable="false"
    />
    <br />
    <el-alert
      class="mb20"
      title="æ­¤èŠ‚ï¼šæŒ‰é’®åŠè‡ªå®šä¹‰æŒ‡ä»¤çš„ä½¿ç”¨ ç»„ä»¶: {el-divider}={el-row}={el-button}={v-if}={v-auth}"
      type="success"
      :closable="false"
    />
    <br />
    <el-divider content-position="left">el-divider + åˆ†éš”ç»„ä»¶</el-divider>
    <el-divider content-position="left">ä½¿ç”¨ Hooks æ–¹å¼ç»‘å®šæƒé™(useAuthButtons)</el-divider>
    <el-row class="mb20">
      <el-button type="primary" :icon="CirclePlus" v-if="BUTTONS.add">æ–°å¢</el-button>
      <el-button type="warning" :icon="EditPen" v-if="BUTTONS.edit">ç¼–è¾‘</el-button>
      <el-button type="danger" plain :icon="Delete" v-if="BUTTONS.delete">åˆ é™¤</el-button>
      <el-button type="info" plain :icon="Upload" v-if="BUTTONS.import">å¯¼å…¥æ•°æ®</el-button>
      <el-button type="info" plain :icon="Download" v-if="BUTTONS.export">å¯¼å‡ºæ•°æ®</el-button>
    </el-row>
    <el-divider content-position="left">ä½¿ç”¨ v-auth æŒ‡ä»¤ç»‘å®šå•ä¸ªæƒé™(å­—ç¬¦ä¸²)</el-divider>
    <el-row class="mb20">
      <el-button type="primary" :icon="CirclePlus" v-auth="'add'">æ–°å¢</el-button>
      <el-button type="warning" :icon="EditPen" v-auth="'edit'">ç¼–è¾‘</el-button>
      <el-button type="danger" plain :icon="Delete" v-auth="'delete'">åˆ é™¤</el-button>
      <el-button type="info" plain :icon="Upload" v-auth="'import'">å¯¼å…¥æ•°æ®</el-button>
      <el-button type="info" plain :icon="Download" v-auth="'export'">å¯¼å‡ºæ•°æ®</el-button>
    </el-row>
    <el-divider content-position="left">ä½¿ç”¨ v-auth æŒ‡ä»¤ç»‘å®šå¤šä¸ªæƒé™(æ•°ç»„)</el-divider>
    <el-row>
      <el-button type="primary" :icon="CirclePlus" v-auth="['add', 'edit', 'delete', 'import', 'export']">æ–°å¢</el-button>
      <el-button type="warning" :icon="EditPen" v-auth="['add', 'edit', 'delete', 'import', 'export']">ç¼–è¾‘</el-button>
      <el-button type="danger" plain :icon="Delete" v-auth="['add', 'edit', 'delete', 'import', 'export']">åˆ é™¤</el-button>
      <el-button type="info" plain :icon="Upload" v-auth="['add', 'edit', 'delete', 'import', 'export']">å¯¼å…¥æ•°æ®</el-button>
      <el-button type="info" plain :icon="Download" v-auth="['add', 'edit', 'delete', 'import', 'export']">å¯¼å‡ºæ•°æ®</el-button>
    </el-row>
  </div>
</template>

<script setup lang="ts" name="authButton">
import { useAuthButtons } from "@/hooks/useAuthButtons";
import { CirclePlus, Delete, EditPen, Download, Upload } from "@element-plus/icons-vue";

const { BUTTONS } = useAuthButtons();
// console.log(BUTTONS); // ComputedRefImplÂ {dep: undefined, __v_isRef: true, __v_isReadonly: true, _dirty: true, _setter: Æ’,Â â€¦}
// console.log(BUTTONS.value); // {add: true, edit: true, delete: true, import: true, export: true}
// console.log(Object.keys(BUTTONS.value)); // Â ['add', 'edit', 'delete', 'import', 'export']
// console.log(JSON.stringify(Object.keys(BUTTONS.value))); // ["add","edit","delete","import","export"]
</script>

<style scoped lang="scss">
@import "./index.scss";
</style>
